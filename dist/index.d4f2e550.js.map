{"mappings":"AAAA,MAAMA,IAAG,CAAIC,EAAGC,IACbC,OAAOH,IAAII,WAAa,KAAOH,EAAI,KAAOC,GAAQ,IAE/CG,aAAeC,IACnB,MAAMC,EAAKC,SAASC,cAAc,MAC5BC,EAAKF,SAASC,cAAc,SAC5BE,EAAKH,SAASC,cAAc,KAGlCC,EAAGE,UAAW,EACdF,EAAGG,IAAMP,EACTK,EAAGG,KAAOR,EACVK,EAAGI,UAAW,IAAIC,MAAOC,cAAgB,OACzCN,EAAGP,UAAYO,EAAGI,SAGlBR,EAAGW,YAAYR,GACfH,EAAGW,YAAYP,GACfR,OAAOgB,eAAeD,YAAYX,IAG9Ba,SAAWC,gBAAgBC,SAEjCC,aAAaC,UAAW,EACxBC,WAAWD,UAAW,EAEtBD,aAAaG,QAAO,KAClBN,SACGO,QACAC,MAAI,KACH5B,IAAI,qBACJuB,aAAaC,UAAW,EACxBC,WAAWD,UAAW,KAEvBK,MAAM7B,MAGXyB,WAAWC,QAAO,KAChBN,SACGU,OACAF,MAAI,EAAItB,IAAAA,EAAKyB,KAAAA,MACZ/B,IAAG,4BAA6BM,KAChCiB,aAAaC,UAAW,EACxBC,WAAWD,UAAW,EACtBnB,aAAaC,GACbN,IAAG,wBACIgC,wBAAwBD,MAEhCH,MAAK1B,IACJF,IAAG,uBAAwBE,EAAK+B,gBAEjCJ,MAAM7B","sources":["src/js/app.js"],"sourcesContent":["const log = (e, data) =>\n  (window.log.innerHTML += \"\\n\" + e + \" \" + (data || \"\"));\n\nconst appendToList = url => {\n  const li = document.createElement(\"li\");\n  const au = document.createElement(\"audio\");\n  const hf = document.createElement(\"a\");\n\n  // Configure audio element\n  au.controls = true;\n  au.src = url;\n  hf.href = url;\n  hf.download = new Date().toISOString() + \".wav\";\n  hf.innerHTML = hf.download;\n\n  // Append to dom\n  li.appendChild(au);\n  li.appendChild(hf);\n  window.recordingslist.appendChild(li);\n};\n\nconst recorder = RecorderManager.create();\n\nrecordButton.disabled = false;\nstopButton.disabled = true;\n\nrecordButton.onclick = () => {\n  recorder\n    .start()\n    .then(() => {\n      log(\"Started recording\");\n      recordButton.disabled = true;\n      stopButton.disabled = false;\n    })\n    .catch(log);\n};\n\nstopButton.onclick = () => {\n  recorder\n    .stop()\n    .then(({ url, blob }) => {\n      log(`Done! stopped recording. ${url}`);\n      recordButton.disabled = false;\n      stopButton.disabled = true;\n      appendToList(url);\n      log(`Identifying song....`);\n      return uploadToCloudIdentifier(blob);\n    })\n    .then(data => {\n      log(`Identified Song -> \"${data.identify}\"`);\n    })\n    .catch(log);\n};\n"],"names":["log","e","data","window","innerHTML","appendToList","url","li","document","createElement","au","hf","controls","src","href","download","Date","toISOString","appendChild","recordingslist","recorder","RecorderManager","create","recordButton","disabled","stopButton","onclick","start","then","catch","stop","blob","uploadToCloudIdentifier","identify"],"version":3,"file":"index.d4f2e550.js.map"}